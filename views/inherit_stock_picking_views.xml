<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<data>
		<record model="ir.ui.view" id="inherit_stock_picking_views">
			<field name="model">stock.picking</field>
			<field name="name">ovis.inherit.stock.picking.views</field>
			<field name="inherit_id" ref="stock.view_picking_form"></field>
			<field name="arch" type="xml">

				<!-- Add fields to One2many field in "Operations"-->
				<xpath expr="//field[@name='move_lines']//tree//field[@name='product_id']" position="before">
							<field name="carton"/>
				</xpath>

				<xpath expr="//field[@name='move_lines']//tree" position="inside">
							<field name="net_weight"/>
							<field name="gross_weight"/>
				</xpath>

				<xpath expr="//field[@name='move_lines']//tree" position="attributes">
					<attribute name="decoration-danger">state != 'done' and quantity_done > reserved_availability and show_reserved_availability or net_weight > gross_weight</attribute>
				</xpath>
				<!--  -->


				<!-- Add fields under Main Title -->
				<xpath expr="//field[@name='backorder_id']" position="after">
					<field name="signature"/>
					<field name="bill_to" attrs="{'invisible': [('picking_type_code', '=', 'internal')]}"/>
				</xpath>

				<xpath expr="//field[@name='origin']" position="after">
					<field name="weight_unit"/>
				</xpath>
				<!--  -->



				<!-- Add fields in page "Additional Info" -->
				<xpath expr="//page[@name='extra']" position="inside">
					<group string="Shipping" name="shipper" col="4">
						<field name="shipping_id" context="{'form_view_ref': 'ovis.view_stock_picking_shipping'}"/>
						<field name="way" placeholder="eg. SEA or AIR"/>
						<field name="marks_carton" placeholder="eg. 01-15 or A1-C22"/>
						<field name="sailing" placeholder="eg. PORT 19"/>
					</group>


					<group string="Remarks" name="remarks">
						<field name="remarks" placeholder="Remarks for this D/O." nolabel="1"/>
					</group>
				</xpath>
				<!--  -->

				<!-- Add field at the bottom of all "Pages". -->
				<xpath expr="//field[@name='move_lines']" position="after">
					<group>
						<group string="Quantity:">	
							<field name="initial_total"/>
							<field name="reserved_total"/>
							<field name="done_total"/>
						</group>
						<group string="Carton:">
							<field name="net_weight_total"/>
							<field name="gross_weight_total"/>
							<field name="carton_total" placeholder="Cartons" colspan="4"/>
						</group>
					</group>
				</xpath>
				<!--  -->


			</field>
		</record>

	</data>
</odoo>