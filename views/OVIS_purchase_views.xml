<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<data>
		
		<!-- Quotation Line viewed in sales -->
		<record id="action_product_quotation_list" model="ir.actions.act_window">
			<field name="name">Quotation Lines</field>
			<field name="res_model">sale.order.line</field>
			<field name="view_mode">tree</field>
			<field name="context">{'search_default_product_id': [active_id], 'default_product_id': active_id}</field>
			<field name="domain">[('state', 'in', ['draft', 'sent'])]</field>
		</record>

		<!-- Purchase Order View -->
		<record model="ir.ui.view" id="purhcase_order_form_ovis">
			<field name="model">purchase.order</field>
			<field name="name">purchase.order.form.ovis</field>
			<field name="inherit_id" ref="purchase.purchase_order_form"></field>
			<field name="arch" type="xml">
			
				<xpath expr="//field[@name='origin']" position="after">
					<field name="exception"/>
				</xpath>

				<xpath expr="//page[1]" position="after">
					<page string="Exception" name="exception_page" attrs="{'invisible':[('exception','=',False)]}" modifiers="{'invisible':[['exception','=',false]]}">
						<group string="Exception Description" name="exception_description" modifiers="{}">
							<field name="note_exception" nolabel="1" attrs="{'invisible':[('exception','=','False')]}" placeholder="Description of the Exception and reasons." modifiers="{'invisible':[['exception','=',false]]}"/>
						</group>
					</page>
				</xpath>

			</field>
		</record>

		<!-- PO Search Filter -->
		<record id="view_purchase_order_filter" model="ir.ui.view">
			<field name="model">purchase.order</field>
			<field name="name">view.purchase.order.filter.ovis</field>
			<field name="inherit_id" ref="purchase.view_purchase_order_filter"/>
			<field name="arch" type="xml">
				<xpath expr="//search" position="inside">
					<filter string="Exception" name="exception" domain="[('exception','=','true')]"/>
				</xpath>
			</field>
		</record>

	</data>
</odoo>
