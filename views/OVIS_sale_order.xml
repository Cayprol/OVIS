<?xml version="1.0" encoding="utf-8" ?>

<odoo>
	<data>

		<record id="view_material_prepare_tree" model="ir.ui.view">
			<field name="name">material.prepare.order.tree</field>
			<field name="model">sale.order</field>
			<field name="priority">4</field>
			<field name="arch" type="xml">
				<tree string="Quotation" class="o_sale_order" decoration-bf="message_needaction==True" decoration-muted="state=='cancel'">
					<field name="message_needaction" invisible="1"/>
					<field name="name" string="Quotation Number"/>
					<field name="date_order" string="Quotation Date"/>
					<field name="partner_id"/>
					<field name="user_id"/>
					<field name="amount_total" sum="Total Tax Included" widget="monetary"/>
					<field name="currency_id" invisible="1"/>
					<field name="state"/>
				</tree>
			</field>
		</record>

		<!-- Adding action for menuitem -->
		<record id="OVIS_material_prepare_menu" model="ir.actions.act_window">
			<field name="name">Material Prepare</field>
			<field name="res_model">sale.order.line</field>
			<field name="view_mode">tree</field>
			<!-- <field name="context">{'search_default_product_id': [active_id], 'default_product_id': active_id}</field> -->
			<field name="domain">[('state', 'in', ['draft', 'sent'])]</field>
		</record>

		<!-- Adding menuitem to dispaly -->
		<menuitem id="material_prepare" name="Material Prepare" parent="sale.sale_order_menu" sequence="4" action="OVIS_material_prepare_menu"/>

	</data>
</odoo>
