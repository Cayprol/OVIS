<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="inherit_product_template_only_form_view">
			<field name="model">product.template</field>
			<field name="name">ovis.inherit.product.template.only.form.view</field>
			<field name="inherit_id" ref="product.product_template_only_form_view"/>
			<field name="arch" type="xml">
				<!-- Hide Field "barcode" -->
				<xpath expr="//field[@name='barcode']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>

				<!-- Add Field "drawing", "__last_update" -->
				<xpath expr="//field[@name='default_code']" position="before">
					<field name="drawing"/>
					<field name="__last_update" string="Last Update" modifiers="{'readonly': true}"/>
				</xpath>

				<!-- Add Field "memo" -->
				<xpath expr="//group[@name='description_internal']" position="inside">
					<group name="memorundam" string="Memorandum">
						<field name="memo" nolabel="1" placeholder="Memo for this product."/>
					</group>
				</xpath>

				<!-- Add Field "buyer_ids" -->
				<xpath expr="//page[@name='sales']//div[@name='pricelist_item']" position="before">
					<group string="Customers" name="customers">
						<field name="buyer_ids" nolabel="1">
							<tree>
								<field name="name"/>
								<field name="product_name"/>
								<field name="product_code"/>
								<field name="price"/>
							</tree>
						</field>
					</group>
				</xpath>

				<!-- Modify Field "seller_ids" -->
				<xpath expr="//field[@name='seller_ids']" position="replace">
					<field name="seller_ids" nolabel="1">
						<tree>
							<field name="name"/>
							<field name="min_qty" string="MOQ"/>
							<field name="sp_qty" string="SPQ"/>
							<field name="price"/>
							<field name="__last_update" widget="date"/>
							<field name="info"/>
						</tree>
					</field>
				</xpath>

				<xpath expr="//field[@name='seller_ids']//tree" position="attributes">
					<attribute name="decoration-danger">min_qty &lt; sp_qty</attribute>
					<!-- <attribute name="decoration-info">info != None</attribute> -->
				</xpath>


				<!-- Add new page "Manufacturing" for drawing and tooling. -->
<!-- 				<xpath expr="//page[@name='purchase']" position="after">
					<page string="Manufacturing" name="manufacturing">
						<group string="Drawing" name="drawing">
						</group>
						<group string="Tooling" name="tooling" col="4">
							<field name="tooling" col="2"/>
							<field name="parent_id" attrs="{'invisible':[('tooling', '=', False)]}"/>
							<field name="child_ids" nolabel="1" readonly="1" colspan="4">
								<tree>
									<field name="name"/>
									<field name="price"/>
									<field name="arrival" widget="date"/>
									<field name="__last_update" widget="date"/>
								</tree>
							</field>
						</group>
					</page>
				</xpath> -->


				<xpath expr="//page[@name='purchase']" position="after">
					<page name="manufacturing" string="Manufacturing">
						<group name="tooling" string="Tooling">
							<field name="tooling" col="2"/>
							<field name="arrival" col="2" attrs="{'invisible':[('tooling', '=', False)]}" widget="date"/>
							<field name="tooling_ids" attrs="{'invisible':[('tooling', '=', True)]}" widget="many2many_tags"/>
							<field name="producing_ids" attrs="{'invisible':[('tooling', '=', False)]}" widget="many2many_tags"/>
						</group>
					</page>
				</xpath>

			</field>
		</record>
	</data>
</odoo>