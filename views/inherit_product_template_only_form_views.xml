<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="inherit_product_template_only_form_view">
			<field name="model">product.template</field>
			<field name="name">ovis.inherit.product.template.only.form.view</field>
			<field name="inherit_id" ref="product.product_template_only_form_view"/>
			<field name="arch" type="xml">
				<!-- Hide Field "barcode" -->
				<xpath expr="//field[@name='barcode']" position="attributes">
					<attribute name="invisible">1</attribute>
				</xpath>

				<!-- Add Field "drawing", "write_date" -->
				<xpath expr="//field[@name='default_code']" position="before">
					<field name="drawing"/>
					<field name="write_date" string="Last Modified" widget="date" modifiers="{'readonly': true}"/>
				</xpath>

				<!-- Add Field "memo" -->
				<xpath expr="//group[@name='description_internal']" position="inside">
					<group name="memorundam" string="Memorandum">
						<field name="memo" nolabel="1" placeholder="Memo for this product."/>
					</group>
				</xpath>

				<!-- Add Field "buyer_ids" -->
				<xpath expr="//page[@name='sales']//div[@name='pricelist_item']" position="before">
					<group string="Customers" name="customers">
						<field name="buyer_ids" nolabel="1">
							<tree decoration-info="description != False and description != ''">
								<field name="name"/>
								<field name="min_qty" string="MOQ"/>
								<field name="price"/>
								<field name="currency_id"/>
								<field name="write_date" string="Last Modified" widget="date" modifiers="{'readonly': true}"/>
								<field name="company_id"/>
								<field name="description" invisible='1'/>
							</tree>
						</field>
					</group>
				</xpath>

				<!-- Modify Field "seller_ids" -->
				<xpath expr="//field[@name='seller_ids']" position="replace">
					<field name="seller_ids" nolabel="1">
						<tree decoration-info="description != False and description != ''">
							<field name="name"/>
							<field name="min_qty" string="MOQ"/>
							<field name="sp_qty" string="SPQ"/>
							<field name="price"/>
							<field name="currency_id" readonly='1'/>
							<field name="write_date" string="Last Modified" widget="date" modifiers="{'readonly': true}"/>
							<field name="company_id"/>
							<field name="description" invisible='1'/>
						</tree>
					</field>
				</xpath>

				<xpath expr="//field[@name='seller_ids']//tree" position="attributes">
					<attribute name="decoration-danger">min_qty &lt; sp_qty</attribute>
					<!-- <attribute name="decoration-info">info != None</attribute> -->
				</xpath>

				<xpath expr="//page[@name='purchase']" position="after">
					<page name="manufacturing" string="Manufacturing">
						<group name="tooling" string="Tooling" col="4">
							<field name="tooling"/>
							<field name="tooling_ids" widget="many2many_tags"/>
							
							<field name="scrapped" attrs="{'invisible': [('tooling', '=', False)]}"/>
							<field name="exported" attrs="{'invisible': [('tooling', '=', False)]}"/>
							<field name="producing_ids" widget="many2many_tags" attrs="{'required': [('tooling','=', True)], 'invisible': [('tooling', '=', False)]}"/>
							<field name="arrival" widget="date" attrs="{'required': [('tooling','=', True)], 'invisible': [('tooling', '=', False)]}"/>
							<field name="last_po" attrs="{'invisible': [('tooling', '=', False)]}"/>
							<field name="last_so" attrs="{'invisible': [('tooling', '=', False)]}"/>
						</group>
					</page>
				</xpath>

			</field>
		</record>
	</data>
</odoo>