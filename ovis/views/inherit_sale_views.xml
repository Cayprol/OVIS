<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="inherit_view_order_form">
			<field name="model">sale.order</field>
			<field name="name">inherit.sale.order.form</field>
			<field name="inherit_id" ref="sale.view_order_form"/>
			<field name="arch" type="xml">

				<!-- Make the purple confirm button also appear when Sale Order in state 'to approve' -->
<!-- 
				<xpath expr="//button[@name='action_confirm'][1]"  position="replace">
					<button name="action_confirm" states="sent,to approve" string="Confirm" class="btn-primary" type="object" />
				</xpath>

 -->
 				<xpath expr="//header//field[@name='state']" position="attributes">
 					<attribute name="statusbar_visible">draft,to approve,sent,sale</attribute>
 				</xpath>

 				<xpath expr="//button[@name='action_confirm'][1]" position="before">
 					<button name="action_ask_approve" id="action_ask_approve" states='draft' string="Ask Approval" type="object" class="oe_highlight" groups="	sales_team.group_sale_salesman"/>
 					<button name="action_approve" id="action_approve" states='to approve' string="Approve Order" type="object" class="oe_highlight" groups="sales_team.group_sale_manager"/>
 				</xpath>
				
			</field>
		</record>
	</data>
</odoo>